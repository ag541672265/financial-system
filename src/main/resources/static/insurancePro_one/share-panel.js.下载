define(["jquery","underscore","exports","require","module"],function($,s,t,e,n){"use strict";var o=function(){o.prototype.init.apply(this,arguments)},l={sina:{text:"新浪微博",apiurl:"http://v.t.sina.com.cn/share/share.php",url:"url",title:encodeURIComponent("#精品推荐#你值得拥有"),shareIcon:"share-sina-icon",pic:"pic"},zone:{text:"QQ空间",apiurl:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",url:"url",title:encodeURIComponent("#精品推荐#你值得拥有"),shareIcon:"share-qz-icon",pic:"pics"}},m={url:window.location.href,title:encodeURIComponent($(".product-title").text()),site:"https://www.huize.com"};o.prototype={init:function(p){var a=$("#sharePanelBtn"),t=p.htmlUrl||"require-text!/html/public/share-panel.html",c=p.pageId||0;p.htmlUrl&&(m.title=p.summary),e([t,"jquery-prompt"],function(t,e){for(var n=p.items,o=[],r=0;r<n.length;r++){var i=l[n[r]];i.summary=encodeURIComponent(p.summary),i.picture=encodeURIComponent("//img.huizecdn.com/hz/www/page/payview/share/slogo.png"),"sina"===n[r]&&(i.title=encodeURIComponent(p.summary)),o.push(i)}a.attr("data-prompt-html",s.template(t)({datas:o,productId:p.productId,planId:p.planId,shareUrl:encodeURIComponent(p.url),qqSettings:m,pageId:c})),a.attr("data-prompt-position","bottom"),a.prompt()})},initAction:function(){$("sharePanel").delegate("a","click",function(){$(this).attr("type")})}},n.exports=o});